{#- 
Template: functional-annotation.ldt.ttl.j2 
Description: Template to generate triples from functional-analysis results in context of EMOBON.
Input:
    - "./functional-annotation/DBB.merged.summary.ips" 

Variable:
    - baseref ?
    - cluster
    - genoscopeID
    - ENAnumber --> to discuss
    - obs_id
    - env_package
    - source_mat_id ~ the id of the sample (~see 'name' of the dataset in ro-crate-metadata.json)

-#}

{% include './includes/prefixes.ttl' %}

@base <http://data.emobon.embrc.eu/analysis-results-{{cluster}}-crate/{{genoscopeID}}/functional-annotation/IPS>

{# InterPro_annotations #}
{%- for row in sets['_'] %}
<#{{row.ID}}> 
    a emobon-product:FunctionalAnnotation ; 
    dct:type emobon-product:InterPro ; 

    emobon-product:ofSample <http://data.emobon.embrc.eu/observatory-{{obs_id}}-crate/{{env_package}}/sample/{{source_mat_id}}> ;
    {# emobon-product:enaNumber {{ENAnumber | xsd("string")}} ;  #}
    
    dct:isPartOf <> ; 

    {# dct:title {{row['sequence domain/region name'] | xsd('string')}} ; #}                  {# to check if name works #}
    dct:identifier <https://www.ebi.ac.uk/interpro/entry/InterPro/{{row.ID}}/> ;
.
{%- endfor %}